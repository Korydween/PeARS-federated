<!--
SPDX-FileCopyrightText: 2022 PeARS Project, <community@pearsproject.org>, 

SPDX-License-Identifier: AGPL-3.0-only
-->

{% extends "base/base.html" %}
{% block body %}
<div class="container">
  <div class="row">
    <div class="col">
      <div class="alert alert-success text-center">
        <b>{{num_entries}} pages recorded</b>
      </div>
    </div>
  </div>
  
  <div class="row p-3">
    <div class="card-group">
      <div class="card">
        <div class="card-header text-center"><b>Index a single URL</b></div>
        <div class="card-body">
          <p>Think you should index your favourite webpage? Enter its URL here! 
          </p>

          <form method="POST" accept-charset="UTF-8" enctype="multipart/form-data" action="{{url_for('indexer.from_url')}}">
            <div class="input-group p-2">
              <span class="input-group-text">URL</span>
              <input required type="text" class="form-control" placeholder="Enter a URL" name='url' id='url'>
            </div>
            <div class="input-group p-2">
              <span class="input-group-text">Keyword</span>
              <input class="form-control input-s" title="Enter a keyword." placeholder="Enter a keyword" type="text"
                name='url_keyword' id='url_keyword' required>
            </div>
            <div class="input-group p-2">
              <span class="input-group-text">Optional trigger warning</span>
              <input class="form-control input-s" title="Short trigger warning" placeholder="Enter a short trigger warning if needed" type="text"
                name='url_trigger' id='url_trigger'>
            </div>
        </div>
        <div class="card-footer clearfix">
          <span class="input-group-btn float-end">
            <button class="btn btn-lg btn-success" type="submit" id='searchbutton'>Index URL</button>
            <button class="btn btn-lg btn-success" type="button" id='loadingbutton' style='display:none'>
            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            Indexing...
            </button>
          </span>
        </div>
        </form>
      </div>
    </div>
  </div>

</div><!-- /.container -->
<script src="{{ url_for('static', filename='js/loading.js')}}"></script>

{% endblock %}
